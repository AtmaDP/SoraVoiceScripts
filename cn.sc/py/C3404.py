from ED6SCScenarioHelper import *

def main():
    SetCodePage("gbk")

    # 蔡斯

    CreateScenaFile(
        FileName            = 'C3404   ._SN',
        MapName             = 'Zeiss',
        Location            = 'C3404.x',
        MapIndex            = 1,
        MapDefaultBGM       = "ed60125",
        Flags               = 0,
        EntryFunctionIndex  = 0xFFFF,
        Reserved            = 0,
        IncludedScenario    = [
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            ''
        ],
    )

    BuildStringList(
        '@FileName',                            # 8
        '瘦狼瓦鲁特',                           # 9
        '深渊蠕虫',                             # 10
        '深渊蠕虫',                             # 11
        '深渊蠕虫',                             # 12
        '深渊蠕虫',                             # 13
        '深渊蠕虫',                             # 14
        '基库',                                 # 15
        '金',                                   # 16
        '奥利维尔',                             # 17
        '科洛丝',                               # 18
        '艾丝蒂尔',                             # 19
        '金',                                   # 20
    )

    DeclEntryPoint(
        Unknown_00              = 0,
        Unknown_04              = 0,
        Unknown_08              = 6000,
        Unknown_0C              = 4,
        Unknown_0E              = 0,
        Unknown_10              = 0,
        Unknown_14              = 9500,
        Unknown_18              = -10000,
        Unknown_1C              = 0,
        Unknown_20              = 0,
        Unknown_24              = 0,
        Unknown_28              = 2800,
        Unknown_2C              = 262,
        Unknown_30              = 45,
        Unknown_32              = 0,
        Unknown_34              = 360,
        Unknown_36              = 0,
        Unknown_38              = 0,
        Unknown_3A              = 0,
        InitScenaIndex          = 0,
        InitFunctionIndex       = 0,
        EntryScenaIndex         = 0,
        EntryFunctionIndex      = 1,
    )


    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 180,
        Unknown2            = 0,
        Unknown3            = 31,
        ChipIndex           = 0x1F,
        NpcIndex            = 0x181,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )

    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 180,
        Unknown2            = 0,
        Unknown3            = 28,
        ChipIndex           = 0x1C,
        NpcIndex            = 0x181,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )

    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 180,
        Unknown2            = 0,
        Unknown3            = 28,
        ChipIndex           = 0x1C,
        NpcIndex            = 0x181,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )

    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 180,
        Unknown2            = 0,
        Unknown3            = 28,
        ChipIndex           = 0x1C,
        NpcIndex            = 0x181,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )

    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 180,
        Unknown2            = 0,
        Unknown3            = 28,
        ChipIndex           = 0x1C,
        NpcIndex            = 0x181,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )

    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 180,
        Unknown2            = 0,
        Unknown3            = 28,
        ChipIndex           = 0x1C,
        NpcIndex            = 0x181,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )

    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 0,
        Unknown2            = 0,
        Unknown3            = 20,
        ChipIndex           = 0x14,
        NpcIndex            = 0x1C5,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )

    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 180,
        Unknown2            = 0,
        Unknown3            = 26,
        ChipIndex           = 0x1A,
        NpcIndex            = 0x181,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )

    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 180,
        Unknown2            = 0,
        Unknown3            = 12,
        ChipIndex           = 0xC,
        NpcIndex            = 0x181,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )

    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 180,
        Unknown2            = 0,
        Unknown3            = 15,
        ChipIndex           = 0xF,
        NpcIndex            = 0x181,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )

    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 180,
        Unknown2            = 0,
        Unknown3            = 0,
        ChipIndex           = 0x0,
        NpcIndex            = 0x1C8,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )

    DeclNpc(
        X                   = 0,
        Z                   = 0,
        Y                   = 0,
        Direction           = 180,
        Unknown2            = 0,
        Unknown3            = 0,
        ChipIndex           = 0x0,
        NpcIndex            = 0x1CC,
        InitFunctionIndex   = -1,
        InitScenaIndex      = -1,
        TalkFunctionIndex   = -1,
        TalkScenaIndex      = -1,
    )


    DeclActor(
        TriggerX            = 9390,
        TriggerZ            = 0,
        TriggerY            = 2710,
        TriggerRange        = 1600,
        ActorX              = 9390,
        ActorZ              = 800,
        ActorY              = 2710,
        Flags               = 0x7C,
        TalkScenaIndex      = 0,
        TalkFunctionIndex   = 34,
        Unknown_22          = 0,
    )


    ScpFunction(
        "Function_0_24E",          # 00, 0
        "Function_1_275",          # 01, 1
        "Function_2_2CC",          # 02, 2
        "Function_3_2E2",          # 03, 3
        "Function_4_473",          # 04, 4
        "Function_5_62C",          # 05, 5
        "Function_6_635",          # 06, 6
        "Function_7_178C",         # 07, 7
        "Function_8_17B1",         # 08, 8
        "Function_9_17E9",         # 09, 9
        "Function_10_1821",        # 0A, 10
        "Function_11_1859",        # 0B, 11
        "Function_12_1891",        # 0C, 12
        "Function_13_18C9",        # 0D, 13
        "Function_14_3865",        # 0E, 14
        "Function_15_389C",        # 0F, 15
        "Function_16_38BA",        # 10, 16
        "Function_17_38D3",        # 11, 17
        "Function_18_3910",        # 12, 18
        "Function_19_3936",        # 13, 19
        "Function_20_397C",        # 14, 20
        "Function_21_3998",        # 15, 21
        "Function_22_39AE",        # 16, 22
        "Function_23_39F9",        # 17, 23
        "Function_24_3BBF",        # 18, 24
        "Function_25_3E95",        # 19, 25
        "Function_26_3F41",        # 1A, 26
        "Function_27_407E",        # 1B, 27
        "Function_28_41C8",        # 1C, 28
        "Function_29_422F",        # 1D, 29
        "Function_30_4290",        # 1E, 30
        "Function_31_4371",        # 1F, 31
        "Function_32_43C2",        # 20, 32
        "Function_33_445B",        # 21, 33
        "Function_34_44C1",        # 22, 34
    )


    def Function_0_24E(): pass

    label("Function_0_24E")

    Jc((scpexpr(EXPR_PUSH_VALUE_INDEX, 0x0), scpexpr(EXPR_PUSH_LONG, 0x64), scpexpr(EXPR_EQU), scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x2C0, 0)), scpexpr(EXPR_EQUZ), scpexpr(EXPR_NEQUZ_I64), scpexpr(EXPR_END)), "loc_263")
    Event(0, 5)

    label("loc_263")

    OP_51(0xE, 0x28, (scpexpr(EXPR_PUSH_LONG, 0x1), scpexpr(EXPR_PUSH_LONG, 0x4), scpexpr(EXPR_OR), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    Return()

    # Function_0_24E end

    def Function_1_275(): pass

    label("Function_1_275")

    Jc((scpexpr(EXPR_PUSH_VALUE_INDEX, 0x29), scpexpr(EXPR_PUSH_LONG, 0x3AF), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_28A")
    OP_4F(0x1, (scpexpr(EXPR_PUSH_LONG, 0x6F), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))

    label("loc_28A")

    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x2C0, 0)), scpexpr(EXPR_END)), "loc_2A7")
    OP_82(0x80, 0x2)
    OP_82(0x83, 0x2)
    OP_82(0x84, 0x2)
    OP_71(0x1, 0x4)
    OP_22(0x1C7, 0x0, 0x64)
    Jump("loc_2B0")

    label("loc_2A7")

    OP_64(0x0, 0x1)
    OP_22(0x10B, 0x1, 0x46)

    label("loc_2B0")

    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x400, 0)), scpexpr(EXPR_END)), "loc_2BB")
    OP_64(0x0, 0x1)

    label("loc_2BB")

    Jc((scpexpr(EXPR_PUSH_VALUE_INDEX, 0x29), scpexpr(EXPR_PUSH_LONG, 0x3AF), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_2CB")
    Call(0, 4)

    label("loc_2CB")

    Return()

    # Function_1_275 end

    def Function_2_2CC(): pass

    label("Function_2_2CC")

    Jc((scpexpr(EXPR_PUSH_LONG, 0x1), scpexpr(EXPR_END)), "loc_2E1")
    OP_99(0xFE, 0x0, 0x7, 0x5DC)
    Jump("Function_2_2CC")

    label("loc_2E1")

    Return()

    # Function_2_2CC end

    def Function_3_2E2(): pass

    label("Function_3_2E2")

    OP_D2(0x270110, 0x270120, 0x0)
    OP_D2(0x270113, 0x270123, 0x1)
    OP_D2(0x270114, 0x270124, 0x2)
    OP_D2(0x70230, 0x7023C, 0x3)
    OP_D2(0x70233, 0x7023F, 0x4)
    OP_D2(0x70234, 0x70240, 0x5)
    OP_D2(0x70218, 0x70224, 0x6)
    OP_D2(0x7021B, 0x70227, 0x7)
    OP_D2(0x7021C, 0x70228, 0x8)
    OP_D2(0x701D0, 0x701DC, 0x9)
    OP_D2(0x701D3, 0x701DF, 0xA)
    OP_D2(0x701D4, 0x701E0, 0xB)
    OP_D2(0x701E8, 0x701F4, 0xC)
    OP_D2(0x701EB, 0x701F7, 0xD)
    OP_D2(0x701EC, 0x701F8, 0xE)
    OP_D2(0x70200, 0x7020C, 0xF)
    OP_D2(0x70203, 0x7020F, 0x10)
    OP_D2(0x70204, 0x70210, 0x11)
    OP_D2(0x701E9, 0x701F5, 0x12)
    OP_D2(0x70041, 0x70049, 0x13)
    OP_D2(0x70180, 0x70184, 0x14)
    OP_D2(0x2701C6, 0x2701CB, 0x15)
    OP_D2(0x27022A, 0x270234, 0x16)
    OP_D2(0x27022B, 0x270235, 0x17)
    OP_D2(0x27022C, 0x270236, 0x18)
    OP_D2(0x70070, 0x70078, 0x19)
    OP_D2(0x70248, 0x70254, 0x1A)
    OP_D2(0x7024A, 0x70256, 0x1B)
    OP_D2(0x290077, 0x290079, 0x1C)
    OP_D2(0x29006E, 0x290072, 0x1D)
    OP_D2(0x290070, 0x290074, 0x1E)
    OP_D2(0x2600A0, 0x2600A5, 0x1F)
    OP_D2(0x260052, 0x260057, 0x20)
    OP_D2(0x2600A2, 0x2600A7, 0x21)
    OP_D2(0x270232, 0x27023C, 0x22)
    OP_D2(0x60065, 0x6006A, 0x23)
    OP_D2(0x70249, 0x70255, 0x24)
    OP_D2(0x2601A7, 0x2601AC, 0x25)
    OP_D2(0x70030, 0x70038, 0x26)
    OP_D2(0x260068, 0x26006D, 0x27)
    Return()

    # Function_3_2E2 end

    def Function_4_473(): pass

    label("Function_4_473")

    OP_D2(0x270110, 0x270120, 0x0)
    OP_D2(0x270113, 0x270123, 0x1)
    OP_D2(0x270114, 0x270124, 0x2)
    OP_D2(0x70230, 0x7023C, 0x3)
    OP_D2(0x70233, 0x7023F, 0x4)
    OP_D2(0x70234, 0x70240, 0x5)
    OP_D2(0x70230, 0x7023C, 0x6)
    OP_D2(0x70233, 0x7023F, 0x7)
    OP_D2(0x70234, 0x70240, 0x8)
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_4F5")
    OP_D2(0x70218, 0x70224, 0x9)
    OP_D2(0x7021B, 0x70227, 0xA)
    OP_D2(0x7021C, 0x70228, 0xB)
    Jump("loc_513")

    label("loc_4F5")

    OP_D2(0x701D0, 0x701DC, 0x9)
    OP_D2(0x701D3, 0x701DF, 0xA)
    OP_D2(0x701D4, 0x701E0, 0xB)

    label("loc_513")

    OP_D2(0x701E8, 0x701F4, 0xC)
    OP_D2(0x701EB, 0x701F7, 0xD)
    OP_D2(0x701EC, 0x701F8, 0xE)
    OP_D2(0x70200, 0x7020C, 0xF)
    OP_D2(0x70203, 0x7020F, 0x10)
    OP_D2(0x70204, 0x70210, 0x11)
    OP_D2(0x701E9, 0x701F5, 0x12)
    OP_D2(0x70041, 0x70049, 0x13)
    OP_D2(0x70180, 0x70184, 0x14)
    OP_D2(0x2701C6, 0x2701CB, 0x15)
    OP_D2(0x27022A, 0x270234, 0x16)
    OP_D2(0x27022B, 0x270235, 0x17)
    OP_D2(0x27022C, 0x270236, 0x18)
    OP_D2(0x70070, 0x70078, 0x19)
    OP_D2(0x70248, 0x70254, 0x1A)
    OP_D2(0x7024A, 0x70256, 0x1B)
    OP_D2(0x70250, 0x7025C, 0x1C)
    OP_D2(0x70250, 0x7025C, 0x1D)
    OP_D2(0x270233, 0x27023D, 0x1E)
    OP_D2(0x2600A0, 0x2600A5, 0x1F)
    OP_D2(0x260052, 0x260057, 0x20)
    OP_D2(0x2600A2, 0x2600A7, 0x21)
    OP_D2(0x270232, 0x27023C, 0x22)
    OP_D2(0x60065, 0x6006A, 0x23)
    OP_D2(0x70249, 0x70255, 0x24)
    OP_D2(0x2601A7, 0x2601AC, 0x25)
    OP_D2(0x70030, 0x70038, 0x26)
    OP_D2(0x260068, 0x26006D, 0x27)
    Return()

    # Function_4_473 end

    def Function_5_62C(): pass

    label("Function_5_62C")

    Call(0, 6)
    Call(0, 13)
    Return()

    # Function_5_62C end

    def Function_6_635(): pass

    label("Function_6_635")

    EventBegin(0x0)
    FadeToDark(0, 0, -1)
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 0)), scpexpr(EXPR_EQUZ), scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_EQUZ), scpexpr(EXPR_NEQUZ_I64), scpexpr(EXPR_END)), "loc_656")
    Call(0, 32)
    Call(0, 33)

    label("loc_656")

    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x4), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_67A")
    LoadEffect(0x0, "Scraft\\\\sc003_01.eff")

    label("loc_67A")

    Call(0, 3)
    OP_6D(-9630, 0, 2800, 0)
    OP_67(0, 9500, -10000, 0)
    OP_6B(3450, 0)
    OP_6C(45000, 0)
    OP_6E(262, 0)
    OP_22(0x90, 0x0, 0x64)
    SetChrPos(0x8, 7910, 0, 3440, 270)
    ClearChrFlags(0x8, 0x80)
    SetChrSubChip(0x8, 0)
    SetChrChipByIndex(0x8, 31)
    SetChrPos(0x101, -14730, 0, 1440, 90)
    SetChrPos(0xF7, -14750, 0, 2770, 90)
    SetChrPos(0x107, -15870, 0, 1330, 90)
    SetChrPos(0xF9, -16200, 0, 2330, 90)

    def lambda_72A():
        OP_8E(0xFE, 0xFFFFDC74, 0x0, 0x8DE, 0x9C4, 0x0)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_72A)
    Sleep(100)

    def lambda_74A():
        OP_8E(0xFE, 0xFFFFDB48, 0x0, 0xE10, 0x9C4, 0x0)
        ExitThread()

    QueueWorkItem(0xF7, 1, lambda_74A)
    Sleep(100)

    def lambda_76A():
        OP_8E(0xFE, 0xFFFFD634, 0x0, 0x71C, 0x9C4, 0x0)
        ExitThread()

    QueueWorkItem(0x107, 1, lambda_76A)
    Sleep(100)

    def lambda_78A():
        OP_8E(0xFE, 0xFFFFD56C, 0x0, 0xCB2, 0x9C4, 0x0)
        ExitThread()

    QueueWorkItem(0xF9, 1, lambda_78A)
    OP_20(0x5DC)
    FadeToBright(1000, 0)
    OP_0D()
    WaitChrThread(0x101, 0x1)
    OP_62(0x101, 0x0, 2000, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(1000)
    WaitChrThread(0xF9, 0x1)
    OP_1D(0x6F)

    ChrTalk(    #0
        0x101,
        (
            "#1020F#5P这、这是什么……\x02\x03",

            "在地面扩散成这个样子……\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #1
        0x107,
        (
            "#065F能量脉……\x01",
            "这个莫非是……\x02",
        )
    )

    CloseMessageWindow()

    NpcTalk(    #2
        0x8,
        "男人的声音",
        "#6P……呵呵………\x02",
    )

    CloseMessageWindow()

    NpcTalk(    #3
        0x8,
        "男人的声音",
        "#6P来得真迟啊。\x02",
    )

    CloseMessageWindow()
    OP_62(0x101, 0x0, 2000, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(50)
    OP_62(0x107, 0x0, 1700, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(50)
    OP_62(0xF7, 0x0, 2000, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(50)
    OP_62(0xF9, 0x0, 2000, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(1000)

    ChrTalk(    #4
        0x101,
        "#1002F#5P啊……！\x02",
    )

    CloseMessageWindow()

    def lambda_902():
        OP_6D(5590, 0, 2620, 3000)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_902)

    def lambda_91A():
        OP_67(0, 2910, -10000, 3000)
        ExitThread()

    QueueWorkItem(0x101, 2, lambda_91A)

    def lambda_932():
        OP_6C(81000, 3000)
        ExitThread()

    QueueWorkItem(0x101, 3, lambda_932)

    def lambda_942():
        OP_6B(2300, 3000)
        ExitThread()

    QueueWorkItem(0x107, 1, lambda_942)

    def lambda_952():
        OP_6E(474, 3000)
        ExitThread()

    QueueWorkItem(0x107, 2, lambda_952)
    Sleep(1000)

    def lambda_967():
        OP_8E(0xFE, 0x8C, 0x0, 0x4D8, 0x1388, 0x0)
        ExitThread()

    QueueWorkItem(0x101, 0, lambda_967)
    Sleep(100)

    def lambda_987():
        OP_8E(0xFE, 0xFFFFFEE8, 0xFFFFFFF6, 0x884, 0x1388, 0x0)
        ExitThread()

    QueueWorkItem(0xF7, 0, lambda_987)
    Sleep(200)

    def lambda_9A7():
        OP_8E(0xFE, 0xFFFFF97A, 0xFFFFFFA6, 0xA64, 0x1388, 0x0)
        ExitThread()

    QueueWorkItem(0xF9, 0, lambda_9A7)
    Sleep(100)

    def lambda_9C7():
        OP_8E(0xFE, 0xFFFFFBBE, 0x0, 0x154, 0x1388, 0x0)
        ExitThread()

    QueueWorkItem(0x107, 0, lambda_9C7)
    Sleep(1500)
    WaitChrThread(0x101, 0x0)
    WaitChrThread(0xF7, 0x0)
    WaitChrThread(0xF9, 0x0)
    WaitChrThread(0x107, 0x0)
    Sleep(500)

    ChrTalk(    #5
        0x101,
        "#1005F#4P戴、戴墨镜的男人……！\x02",
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_A58")

    ChrTalk(    #6
        0x106,
        (
            "#057F#6P那是……\x01",
            "附带『福音』的桩吗……？\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_A85")

    label("loc_A58")


    ChrTalk(    #7
        0x103,
        (
            "#022F#6P那是……\x01",
            "附带『福音』的桩……？\x02",
        )
    )

    CloseMessageWindow()

    label("loc_A85")


    NpcTalk(    #8
        0x8,
        "戴墨镜的男人",
        (
            "#250F#5P哟，小丫头们。\x01",
            "远道而来真是辛苦了。\x02\x03",

            "让我好好欢迎你们吧。\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #9
        0x101,
        (
            "#1005F#4P你……\x01",
            "是『噬身之蛇』的人吧！\x02",
        )
    )

    CloseMessageWindow()

    NpcTalk(    #10
        0x8,
        "戴墨镜的男人",
        "#252F#5P呵呵……\x02",
    )

    CloseMessageWindow()
    OP_C5(0x0, 0x0, 0x0, 0x200, 0x200, 0x64, 0x0, 0x300, 0x200, 0x0, 0x0, 0x200, 0x200, 0xFFFFFF, 0x0, "C_VIS115._CH")
    OP_C6(0x0, 0x0, 125000, 0, 500)
    OP_C6(0x0, 0x3, -1, 500, 0)
    Sleep(1000)
    SetMessageWindowPos(72, 320, 56, 3)
    SetChrName("戴墨镜的男人")

    AnonymousTalk(    #11
        (
            "#250F执行者ＮＯ．Ⅷ。\x01",
            "『瘦狼』瓦鲁特。\x02\x03",

            "他们是这样称呼我的。\x02",
        )
    )

    CloseMessageWindow()
    OP_56(0x0)
    OP_C6(0x0, 0x3, 16777215, 250, 0)
    Sleep(250)
    Sleep(500)
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_C36")

    ChrTalk(    #12
        0x106,
        (
            "#057F#6P果然没错……\x02\x03",

            "在蔡斯的一连串地震\x01",
            "也全都是你搞的鬼吧。\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_C73")

    label("loc_C36")


    ChrTalk(    #13
        0x103,
        (
            "#022F#6P果然……\x02\x03",

            "在蔡斯的一连串地震\x01",
            "全部都是你干的吧。\x02",
        )
    )

    CloseMessageWindow()

    label("loc_C73")


    ChrTalk(    #14
        0x8,
        (
            "#252F#5P呵呵，这么明显的事\x01",
            "就不必特意向我确认了。\x02\x03",

            "这个是『结社』开发的\x01",
            "为干涉七耀脉的『桩』。\x02\x03",

            "本来只是将正下方的\x01",
            "七耀脉进行活化的装置……\x02\x03",

            "装上『福音』之后，\x01",
            "能够扭曲大范围的七耀脉流动\x01",
            "而引起局部性的地震。\x02\x03",

            "也就是，做了一下这样的实验而已。\x02",
        )
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_DAC")

    ChrTalk(    #15
        0x104,
        (
            "#032F既然你用过去式，\x01",
            "代表实验已经结束了吗？\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_DDE")

    label("loc_DAC")


    ChrTalk(    #16
        0x105,
        (
            "#043F既然你用过去式，\x01",
            "代表实验已经结束了吗？\x02",
        )
    )

    CloseMessageWindow()

    label("loc_DDE")


    ChrTalk(    #17
        0x8,
        (
            "#250F#5P算是吧。\x02\x03",

            "本来还想\x01",
            "破坏点建筑物\x01",
            "显得更华丽些……\x02\x03",

            "但力量还是不够啊。\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #18
        0x107,
        (
            "#065F怎、怎么这样……\x02\x03",

            "如果建筑物崩塌\x01",
            "住在里面的人就危险了呀！\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #19
        0x8,
        (
            "#252F#5P呵呵，这样才好啊。\x02\x03",

            "一定会有被瓦砾压断手足\x01",
            "像猪一样哭喊的\x01",
            "人……\x02\x03",

            "或许也会有人因脑浆迸裂\x01",
            "而当场毙命。\x02\x03",

            "小姑娘想不想\x01",
            "也尝试一下这种体验？\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #20
        0x107,
        "#069F呜……\x02",
    )

    OP_9E(0x107, 0x14, 0x0, 0x1F4, 0xFA0)
    CloseMessageWindow()

    ChrTalk(    #21
        0x101,
        "#1002F#4P这，这家伙……\x02",
    )

    CloseMessageWindow()

    ChrTalk(    #22
        0x8,
        (
            "#252F#5P嘿嘿，别摆出这么可怕的表情啦。\x02\x03",

            "我嘛，一向认为有情趣的人生\x01",
            "就必然要有适度的刺激才行。\x02\x03",

            "也就是那种让人手心冒汗的\x01",
            "惊险和紧张感。\x02\x03",

            "不知道自己何时会死……\x01",
            "让自己置身于这种生与死的边缘上。\x02\x03",

            "怎样……不觉得很令人兴奋吗？\x02",
        )
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_109C")

    ChrTalk(    #23
        0x106,
        (
            "#551F#6P哼……你这变态。\x02\x03",

            "#057F不过，这下我终于明白了。\x02\x03",

            "你这家伙──\x01",
            "是故意引诱我们过来的吧？\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_10FA")

    label("loc_109C")


    ChrTalk(    #24
        0x103,
        (
            "#025F#6P好扭曲的人生观啊。\x02\x03",

            "#022F不过，这下终于明白了。\x02\x03",

            "你──\x01",
            "是故意引诱我们过来的吧？\x02",
        )
    )

    CloseMessageWindow()

    label("loc_10FA")

    OP_62(0x101, 0x0, 1700, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(1000)

    ChrTalk(    #25
        0x101,
        "#1020F#4P咦……！？\x02",
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_11B8")

    ChrTalk(    #26
        0x104,
        (
            "#035F故意在各地留下目击情报……\x02\x03",

            "在要塞发生地震之后\x01",
            "亚尔摩的源泉马上就开始沸腾……\x02\x03",

            "#030F全部都是故意留下的线索啊。\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_1231")

    label("loc_11B8")


    ChrTalk(    #27
        0x105,
        (
            "#047F故意在各地留下目击情报……\x02\x03",

            "在要塞发生地震之后\x01",
            "亚尔摩的源泉马上就开始沸腾……\x02\x03",

            "#042F全部都是故意留下的线索啊。\x02",
        )
    )

    CloseMessageWindow()

    label("loc_1231")


    ChrTalk(    #28
        0x101,
        "#1026F#4P怎么会……\x02",
    )

    CloseMessageWindow()

    ChrTalk(    #29
        0x8,
        (
            "#250F#5P算是说对一半吧。\x02\x03",

            "那么就马上\x01",
            "让我看看吧……\x02\x03",

            "#252F你们到底能带来多少刺激呢㈱\x02",
        )
    )

    CloseMessageWindow()
    SetChrSubChip(0x8, 1)
    Sleep(500)
    SetChrSubChip(0x8, 2)
    OP_22(0xBC, 0x0, 0x64)
    OP_20(0x0)
    Sleep(500)
    Fade(1000)
    OP_6D(4130, 0, 3270, 0)
    OP_67(0, 9500, -10000, 0)
    OP_6B(1050, 0)
    OP_6C(45000, 0)
    OP_6E(922, 0)
    SetChrPos(0x8, 8100, 0, 3250, 270)
    SetChrPos(0x101, 2029, 0, 1070, 90)
    SetChrPos(0xF7, 1710, 0, 2520, 90)
    SetChrPos(0xF9, 260, 0, 2110, 90)
    SetChrPos(0x107, 690, 0, 550, 90)
    OP_0D()
    OP_22(0x85, 0x0, 0x64)

    def lambda_1365():

        label("loc_1365")

        OP_7C(0x0, 0xC8, 0x12C, 0x64)
        OP_48()
        Jump("loc_1365")

    QueueWorkItem2(0x8, 3, lambda_1365)
    OP_6D(2260, 0, 2160, 1500)
    OP_4F(0x1C, (scpexpr(EXPR_PUSH_LONG, 0x1), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    SetChrPos(0x9, 150, 800, -3740, 0)
    SetChrPos(0xA, -3070, 800, 180, 90)
    SetChrPos(0xB, -2420, 800, 5380, 135)
    SetChrPos(0xC, 3190, 800, 6030, 180)
    SetChrPos(0xD, 5440, 800, -1300, 270)
    OP_43(0x9, 0x0, 0x0, 0x7)
    OP_43(0xC, 0x0, 0x0, 0x7)
    Sleep(200)
    OP_43(0xA, 0x0, 0x0, 0x7)
    OP_43(0xB, 0x0, 0x0, 0x7)
    Sleep(200)
    OP_43(0xD, 0x0, 0x0, 0x7)
    OP_62(0x101, 0x0, 2000, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(50)
    OP_62(0x107, 0x0, 1700, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(50)
    OP_62(0xF7, 0x0, 2000, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(50)
    OP_62(0xF9, 0x0, 2000, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(50)

    def lambda_148C():
        OP_8C(0x107, 225, 400)
        ExitThread()

    QueueWorkItem(0x107, 1, lambda_148C)

    def lambda_149A():
        OP_8C(0xF9, 270, 400)
        ExitThread()

    QueueWorkItem(0xF9, 1, lambda_149A)
    Sleep(100)

    def lambda_14AD():
        OP_8C(0x101, 180, 400)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_14AD)
    Sleep(100)

    def lambda_14C0():
        OP_8C(0xF7, 0, 400)
        ExitThread()

    QueueWorkItem(0xF7, 1, lambda_14C0)
    WaitChrThread(0xF7, 0x1)
    OP_24(0x85, 0x5A)
    Sleep(100)
    OP_24(0x85, 0x50)
    Sleep(100)
    OP_24(0x85, 0x46)
    Sleep(100)
    OP_24(0x85, 0x3C)
    Sleep(100)
    OP_24(0x85, 0x32)
    Sleep(100)
    OP_24(0x85, 0x28)
    Sleep(100)
    OP_24(0x85, 0x1E)
    Sleep(100)
    OP_23(0x85)
    OP_44(0x8, 0x3)
    OP_22(0xD5, 0x0, 0x64)
    SetChrSubChip(0x101, 0)
    SetChrSubChip(0x107, 0)
    SetChrSubChip(0xF7, 0)
    SetChrSubChip(0xF9, 0)
    SetChrChipByIndex(0x101, 0)
    SetChrChipByIndex(0x107, 3)
    OP_1D(0x29)
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_1547")
    SetChrChipByIndex(0x106, 6)
    Jump("loc_154C")

    label("loc_1547")

    SetChrChipByIndex(0x103, 9)

    label("loc_154C")

    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_1561")
    SetChrChipByIndex(0x104, 12)
    Jump("loc_1566")

    label("loc_1561")

    SetChrChipByIndex(0x105, 15)

    label("loc_1566")

    Sleep(500)

    ChrTalk(    #30
        0x107,
        "#065F呀！！\x02",
    )

    CloseMessageWindow()

    ChrTalk(    #31
        0x101,
        "#1020F#5P这，这些东西是什么！？\x02",
    )

    CloseMessageWindow()
    SetChrChipByIndex(0x8, 31)
    SetChrSubChip(0x8, 0)

    ChrTalk(    #32
        0x8,
        (
            "#252F#4P栖息在这附近的蚯蚓。\x02\x03",

            "由于七耀脉的活性化\x01",
            "而变得这么巨大了！\x02\x03",

            "嗯，你们就陪它们尽情玩玩吧。\x02",
        )
    )

    CloseMessageWindow()
    OP_8C(0x101, 90, 400)

    ChrTalk(    #33
        0x101,
        (
            "#1005F#6P开，开什么玩笑！\x02\x03",

            "你这胆小鬼！\x01",
            "堂堂正正地和我们决胜负啊！\x02",
        )
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_16A2")

    ChrTalk(    #34
        0x106,
        (
            "#054F#5P别去管他了！\x01",
            "现在得先对付这些东西才行啊！\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_16D7")

    label("loc_16A2")


    ChrTalk(    #35
        0x103,
        (
            "#024F#5P别管他了！\x01",
            "现在得先对付这些东西才行哦！\x02",
        )
    )

    CloseMessageWindow()

    label("loc_16D7")

    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_16FF")

    ChrTalk(    #36
        0x104,
        "#530F#5P……来了！\x02",
    )

    CloseMessageWindow()
    Jump("loc_1717")

    label("loc_16FF")


    ChrTalk(    #37
        0x105,
        "#042F#5P……来了！\x02",
    )

    CloseMessageWindow()

    label("loc_1717")

    OP_43(0x9, 0x0, 0x0, 0x8)
    OP_43(0xD, 0x0, 0x0, 0xC)
    Sleep(30)
    OP_43(0xB, 0x0, 0x0, 0xA)
    Sleep(30)
    OP_43(0xA, 0x0, 0x0, 0x9)
    OP_43(0xC, 0x0, 0x0, 0xB)
    OP_8C(0x101, 180, 400)
    WaitChrThread(0xD, 0x0)
    OP_4F(0x1C, (scpexpr(EXPR_PUSH_LONG, 0x0), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    OP_44(0x9, 0xFF)
    OP_44(0xA, 0xFF)
    OP_44(0xB, 0xFF)
    OP_44(0xC, 0xFF)
    OP_44(0xD, 0xFF)
    Battle(0x3AF, 0x0, 0x1, 0x0, 0xFF)
    Switch(
        (scpexpr(EXPR_PUSH_VALUE_INDEX, 0x3), scpexpr(EXPR_END)),
        (1, "loc_1786"),
        (SWITCH_DEFAULT, "loc_178B"),
    )


    label("loc_1786")

    OP_B4(0x0)
    Jump("loc_178B")

    label("loc_178B")

    Return()

    # Function_6_635 end

    def Function_7_178C(): pass

    label("Function_7_178C")

    ClearChrFlags(0xFE, 0x80)
    SetChrFlags(0xFE, 0x4)
    OP_99(0xFE, 0x0, 0x7, 0x5DC)
    SetChrChipByIndex(0xFE, 29)
    SetChrSubChip(0xFE, 0)
    OP_43(0xFE, 0x1, 0x0, 0x2)
    Return()

    # Function_7_178C end

    def Function_8_17B1(): pass

    label("Function_8_17B1")

    OP_44(0xFE, 0x1)
    SetChrChipByIndex(0xFE, 30)
    SetChrSubChip(0xFE, 0)

    def lambda_17C5():
        OP_99(0xFE, 0x0, 0x7, 0x7D0)
        ExitThread()

    QueueWorkItem(0xFE, 3, lambda_17C5)
    Sleep(200)
    OP_8F(0xFE, 0x1C2, 0x320, 0xFFFFFC18, 0x1770, 0x0)
    Return()

    # Function_8_17B1 end

    def Function_9_17E9(): pass

    label("Function_9_17E9")

    OP_44(0xFE, 0x1)
    SetChrChipByIndex(0xFE, 30)
    SetChrSubChip(0xFE, 0)

    def lambda_17FD():
        OP_99(0xFE, 0x0, 0x7, 0x7D0)
        ExitThread()

    QueueWorkItem(0xFE, 3, lambda_17FD)
    Sleep(200)
    OP_8F(0xFE, 0xFFFFFAC4, 0x320, 0x23A, 0x1770, 0x0)
    Return()

    # Function_9_17E9 end

    def Function_10_1821(): pass

    label("Function_10_1821")

    OP_44(0xFE, 0x1)
    SetChrChipByIndex(0xFE, 30)
    SetChrSubChip(0xFE, 0)

    def lambda_1835():
        OP_99(0xFE, 0x0, 0x7, 0x7D0)
        ExitThread()

    QueueWorkItem(0xFE, 3, lambda_1835)
    Sleep(200)
    OP_8F(0xFE, 0xFFFFFE5C, 0x320, 0xEBA, 0x1770, 0x0)
    Return()

    # Function_10_1821 end

    def Function_11_1859(): pass

    label("Function_11_1859")

    OP_44(0xFE, 0x1)
    SetChrChipByIndex(0xFE, 30)
    SetChrSubChip(0xFE, 0)

    def lambda_186D():
        OP_99(0xFE, 0x0, 0x7, 0x7D0)
        ExitThread()

    QueueWorkItem(0xFE, 3, lambda_186D)
    Sleep(200)
    OP_8F(0xFE, 0x92E, 0x320, 0xFDB, 0x1770, 0x0)
    Return()

    # Function_11_1859 end

    def Function_12_1891(): pass

    label("Function_12_1891")

    OP_44(0xFE, 0x1)
    SetChrChipByIndex(0xFE, 30)
    SetChrSubChip(0xFE, 0)

    def lambda_18A5():
        OP_99(0xFE, 0x0, 0x7, 0x7D0)
        ExitThread()

    QueueWorkItem(0xFE, 3, lambda_18A5)
    Sleep(200)
    OP_8F(0xFE, 0xD70, 0x320, 0x6E, 0x1770, 0x0)
    Return()

    # Function_12_1891 end

    def Function_13_18C9(): pass

    label("Function_13_18C9")

    EventBegin(0x0)
    FadeToDark(0, 0, -1)
    OP_6D(3700, 0, 3240, 0)
    OP_67(0, 5940, -10000, 0)
    OP_6B(2300, 0)
    OP_6C(53000, 0)
    OP_6E(474, 0)
    SetChrFlags(0x9, 0x80)
    SetChrFlags(0xA, 0x80)
    SetChrFlags(0xB, 0x80)
    SetChrFlags(0xC, 0x80)
    SetChrFlags(0xD, 0x80)
    OP_22(0x90, 0x0, 0x64)
    SetChrPos(0x8, 8100, 0, 3250, 270)
    ClearChrFlags(0x8, 0x80)
    SetChrSubChip(0x8, 0)
    SetChrChipByIndex(0x8, 31)
    SetChrPos(0x101, 2029, 0, 1070, 180)
    SetChrPos(0xF7, 1710, 0, 2520, 0)
    SetChrPos(0xF9, 260, 0, 2110, 270)
    SetChrPos(0x107, 690, 0, 550, 180)
    SetChrSubChip(0x101, 0)
    SetChrSubChip(0x107, 0)
    SetChrSubChip(0xF7, 0)
    SetChrSubChip(0xF9, 0)
    SetChrChipByIndex(0x101, 0)
    SetChrChipByIndex(0x107, 3)
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_19C1")
    SetChrChipByIndex(0x106, 9)
    Jump("loc_19C6")

    label("loc_19C1")

    SetChrChipByIndex(0x103, 9)

    label("loc_19C6")

    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_19DB")
    SetChrChipByIndex(0x104, 12)
    Jump("loc_19E0")

    label("loc_19DB")

    SetChrChipByIndex(0x105, 15)

    label("loc_19E0")

    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x4), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_1A04")
    LoadEffect(0x0, "Scraft\\\\sc003_01.eff")

    label("loc_1A04")

    LoadEffect(0x1, "battle\\\\damage0.eff")
    LoadEffect(0x2, "Scraft\\\\sc006_17.eff")
    LoadEffect(0x3, "Scraft\\\\sc006_16.eff")
    LoadEffect(0x4, "Scraft\\\\sc007_05.eff")
    LoadEffect(0x5, "Scraft\\\\sc007_06.eff")
    LoadEffect(0x6, "Scraft\\sc000_00.eff")
    LoadEffect(0x7, "Scraft\\sc000_10.eff")
    FadeToBright(2000, 0)
    OP_0D()

    ChrTalk(    #38
        0x101,
        "#1025F#5P总算赶走了……\x02",
    )

    CloseMessageWindow()

    ChrTalk(    #39
        0x107,
        "#561F吓、吓死了～……\x02",
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_1B25")

    ChrTalk(    #40
        0x104,
        (
            "#034F#6P哎呀呀……\x01",
            "真是一点也不美丽的敌人。\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_1B4A")

    label("loc_1B25")


    ChrTalk(    #41
        0x105,
        (
            "#042F#6P呼……\x01",
            "好麻烦的对手啊。\x02",
        )
    )

    CloseMessageWindow()

    label("loc_1B4A")


    ChrTalk(    #42
        0x8,
        (
            "#250F#4P嗯～看来稍微出乎\x01",
            "我的预料之外……？\x02\x03",

            "还以为会更强一点。\x02",
        )
    )

    CloseMessageWindow()

    def lambda_1B95():
        OP_6D(5390, 0, 3650, 1000)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_1B95)
    OP_8C(0x101, 90, 400)
    OP_8C(0xF7, 90, 400)
    OP_8C(0xF9, 90, 400)
    OP_8C(0x107, 90, 400)
    WaitChrThread(0x101, 0x1)
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_1C17")

    ChrTalk(    #43
        0x106,
        (
            "#555F#6P哼，别小看我们。\x02\x03",

            "这种程度的魔兽\x01",
            "以前不知打倒过多少了。\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_1C5A")

    label("loc_1C17")


    ChrTalk(    #44
        0x103,
        (
            "#022F#6P请别小看我们。\x02\x03",

            "这种程度的魔兽\x01",
            "以前不知打倒过多少了。\x02",
        )
    )

    CloseMessageWindow()

    label("loc_1C5A")


    ChrTalk(    #45
        0x8,
        (
            "#254F…………………………\x02\x03",

            "……真是的，简直不知该说什么好。\x02\x03",

            "没想到你们\x01",
            "居然如此天真。\x02",
        )
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_1CDA")

    ChrTalk(    #46
        0x106,
        "#052F#6P什么……！？\x02",
    )

    CloseMessageWindow()
    Jump("loc_1CF2")

    label("loc_1CDA")


    ChrTalk(    #47
        0x103,
        "#023F#6P啊……！？\x02",
    )

    CloseMessageWindow()

    label("loc_1CF2")

    Fade(500)

    def lambda_1CFD():
        OP_6B(2100, 500)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_1CFD)
    SetChrChipByIndex(0x8, 23)
    SetChrSubChip(0x8, 0)
    Sleep(500)

    ChrTalk(    #48
        0x8,
        (
            "#258F一群白痴……\x01",
            "小看我的是你们才对！\x02",
        )
    )

    CloseMessageWindow()
    OP_43(0x8, 0x0, 0x0, 0x18)
    WaitChrThread(0x8, 0x0)
    WaitChrThread(0x8, 0x3)
    WaitChrThread(0x101, 0x3)
    WaitChrThread(0xF7, 0x3)
    WaitChrThread(0xF9, 0x3)
    WaitChrThread(0x107, 0x3)
    Sleep(600)
    OP_43(0xF7, 0x1, 0x0, 0xE)
    Sleep(200)
    OP_43(0x101, 0x1, 0x0, 0xF)
    Sleep(200)
    OP_43(0xF9, 0x1, 0x0, 0x11)
    Sleep(200)
    OP_43(0x107, 0x1, 0x0, 0x10)
    WaitChrThread(0x101, 0x1)
    WaitChrThread(0xF7, 0x1)
    WaitChrThread(0xF9, 0x1)
    WaitChrThread(0x107, 0x1)
    OP_4F(0x1C, (scpexpr(EXPR_PUSH_LONG, 0x0), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    OP_99(0x8, 0x1E, 0x1C, 0x3E8)
    Fade(500)
    SetChrFlags(0x8, 0x100)
    ClearChrFlags(0x8, 0x2)
    OP_51(0x8, 0x2D, (scpexpr(EXPR_PUSH_LONG, 0x3E8), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    OP_51(0x8, 0x2E, (scpexpr(EXPR_PUSH_LONG, 0x3E8), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    OP_51(0x8, 0x2F, (scpexpr(EXPR_PUSH_LONG, 0x3E8), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    SetChrChipByIndex(0x8, 24)
    SetChrSubChip(0x8, 0)
    SetChrPos(0x8, 3240, 0, 1820, 225)

    def lambda_1E0E():
        OP_8C(0xFE, 270, 400)
        ExitThread()

    QueueWorkItem(0x8, 3, lambda_1E0E)
    OP_0D()
    Sleep(500)

    ChrTalk(    #49
        0x8,
        "#254F……混帐。\x02",
    )

    CloseMessageWindow()

    def lambda_1E37():
        OP_6D(4130, 0, 3270, 3000)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_1E37)

    def lambda_1E4F():
        OP_67(0, 5500, -10000, 3000)
        ExitThread()

    QueueWorkItem(0x8, 3, lambda_1E4F)

    def lambda_1E67():
        OP_6B(2000, 3000)
        ExitThread()

    QueueWorkItem(0x1, 3, lambda_1E67)

    def lambda_1E77():
        OP_6C(45000, 3000)
        ExitThread()

    QueueWorkItem(0x1, 2, lambda_1E77)

    def lambda_1E87():
        OP_6E(474, 3000)
        ExitThread()

    QueueWorkItem(0x2, 2, lambda_1E87)
    OP_43(0x8, 0x1, 0x0, 0x12)
    WaitChrThread(0x8, 0x2)
    WaitChrThread(0x8, 0x1)
    Fade(250)
    SetChrSubChip(0x8, 0)
    SetChrChipByIndex(0x8, 31)
    OP_0D()

    ChrTalk(    #50
        0x8,
        (
            "#254F真是的，莱维那家伙\x01",
            "真会跟我胡扯……\x02\x03",

            "什～么除『剑圣』以外\x01",
            "可能还有一些棘手的家伙。\x02\x03",

            "不过是些乳臭未干的小鬼嘛。\x02",
        )
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_1F55")

    ChrTalk(    #51
        0x106,
        "#057F#5P可恶……不可能……\x02",
    )

    CloseMessageWindow()
    Jump("loc_1F75")

    label("loc_1F55")


    ChrTalk(    #52
        0x103,
        "#522F#5P可恶……怎么会……\x02",
    )

    CloseMessageWindow()

    label("loc_1F75")


    ChrTalk(    #53
        0x8,
        (
            "#252F哼，既然这样也没办法。\x02\x03",

            "干脆跟教授直接谈判，\x01",
            "去收拾那漆黑小子吧。\x02\x03",

            "那样的话，大概\x01",
            "多少能找到点刺激吧。\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #54
        0x101,
        (
            "#1020F#6P！！！\x02\x03",

            "#1005F等……等一下！\x02",
        )
    )

    CloseMessageWindow()

    def lambda_2017():

        label("loc_2017")

        OP_9E(0xFE, 0x32, 0x0, 0x1388, 0x7D0)
        OP_48()
        Jump("loc_2017")

    QueueWorkItem2(0x101, 3, lambda_2017)
    Sleep(500)
    OP_99(0x101, 0x3, 0x0, 0x12C)
    Sleep(500)
    OP_44(0x101, 0x3)
    SetChrFlags(0x8, 0x20)
    OP_8C(0x8, 225, 400)
    ClearChrFlags(0x8, 0x20)
    ClearChrFlags(0x101, 0x800)

    ChrTalk(    #55
        0x8,
        "#250F啊？\x02",
    )

    CloseMessageWindow()

    ChrTalk(    #56
        0x101,
        (
            "#1005F#6P你这墨镜男……\x01",
            "给我适可而止吧……\x02\x03",

            "漆黑小子什么的…\x01",
            "如果说的是约修亚……\x02\x03",

            "我绝对……\x01",
            "绝对不容许你乱来……\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #57
        0x107,
        "#065F#5P艾丝蒂尔姐姐……\x02",
    )

    CloseMessageWindow()

    ChrTalk(    #58
        0x8,
        (
            "#250F受了我一击\x01",
            "居然还能站得住，的确值得夸奖……\x02\x03",

            "不过还是算了吧。\x01",
            "连膝盖都在颤抖哦。\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #59
        0x101,
        (
            "#1022F#6P那、那又怎么样……\x02\x03",

            "我绝对……\x01",
            "要找到约修亚……\x02",
        )
    )

    CloseMessageWindow()
    Sleep(500)

    ChrTalk(    #60
        0x101,
        (
            "#1005F#6P我绝不会让你们\x01",
            "阻挠我！\x02",
        )
    )

    OP_7C(0x0, 0x1F4, 0xBB8, 0x64)
    CloseMessageWindow()
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_21FF")

    ChrTalk(    #61
        0x104,
        "#032F#5P艾丝蒂尔……\x02",
    )

    CloseMessageWindow()
    Jump("loc_2219")

    label("loc_21FF")


    ChrTalk(    #62
        0x105,
        "#043F#5P艾丝蒂尔……\x02",
    )

    CloseMessageWindow()

    label("loc_2219")


    def lambda_221F():
        OP_6D(2990, 0, 690, 2000)
        ExitThread()

    QueueWorkItem(0x101, 0, lambda_221F)
    SetChrSubChip(0x8, 0)
    SetChrChipByIndex(0x8, 21)
    OP_8E(0x8, 0xE9C, 0x0, 0x136, 0x7D0, 0x0)
    OP_8C(0x8, 270, 0)
    SetChrSubChip(0x8, 0)
    SetChrChipByIndex(0x8, 31)
    WaitChrThread(0x101, 0x0)
    WaitChrThread(0x101, 0x1)
    WaitChrThread(0x101, 0x2)

    ChrTalk(    #63
        0x8,
        (
            "#250F#2P……话说在先，\x01",
            "我可不会对女人或小孩手软的。\x02\x03",

            "身为武术家，在面对敌人时，\x01",
            "你应该早已有所觉悟吧？\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #64
        0x101,
        (
            "#1005F#6P当然……！\x02\x03",

            "有本事的话\x01",
            "就尽管动手吧！\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #65
        0x8,
        "#252F#2P哼哼，真有种……\x02",
    )

    CloseMessageWindow()
    Fade(500)

    def lambda_2338():
        OP_6B(1800, 500)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_2338)
    SetChrSubChip(0x8, 0)
    SetChrChipByIndex(0x8, 23)
    OP_0D()
    Sleep(500)

    ChrTalk(    #66
        0x8,
        (
            "#250F#2P看在你这胆量的份上\x01",
            "我就一击了结你吧。\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #67
        0x101,
        "#1002F#6P……………………………\x02",
    )

    CloseMessageWindow()
    OP_62(0x107, 0xC8, 1600, 0x28, 0x2B, 0x64, 0x3)
    Sleep(1000)

    ChrTalk(    #68
        0x107,
        (
            "#069F#7P不要不要！\x01",
            "艾丝蒂尔姐姐！\x02",
        )
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_2414")

    ChrTalk(    #69
        0x106,
        "#054F#5P艾丝蒂尔，快逃啊！！\x02",
    )

    CloseMessageWindow()
    Jump("loc_2436")

    label("loc_2414")


    ChrTalk(    #70
        0x103,
        "#024F#5P艾丝蒂尔，快逃啊！！\x02",
    )

    CloseMessageWindow()

    label("loc_2436")


    ChrTalk(    #71
        0x8,
        "#250F#2P──去死吧。\x02",
    )

    CloseMessageWindow()
    OP_20(0x0)
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_2577")
    OP_22(0x197, 0x0, 0x64)
    OP_22(0x8C, 0x0, 0x64)
    SetChrPos(0xE, -11220, 3000, 3760, 90)
    SetChrFlags(0xE, 0x40)
    OP_7D(0x0, 0xE, 0x32, 0x1F4)
    OP_6D(-3050, 0, 3540, 800)
    ClearChrFlags(0xE, 0x80)
    OP_43(0xE, 0x1, 0x0, 0x15)

    def lambda_24AD():
        OP_6D(3230, 0, 1550, 500)
        ExitThread()

    QueueWorkItem(0x0, 0, lambda_24AD)

    def lambda_24C5():
        OP_6B(2000, 500)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_24C5)

    def lambda_24D5():
        OP_8E(0xE, 0xE9C, 0x0, 0x136, 0x61A8, 0x0)
        ExitThread()

    QueueWorkItem(0xE, 2, lambda_24D5)
    Sleep(500)
    OP_22(0x23B, 0x0, 0x64)

    def lambda_24FA():
        OP_96(0x8, 0x16BC, 0x0, 0x366, 0x12C, 0x3A98)
        ExitThread()

    QueueWorkItem(0x8, 1, lambda_24FA)
    SetChrSubChip(0x8, 0)
    SetChrChipByIndex(0x8, 22)

    def lambda_2522():
        TurnDirection(0x8, 0x101, 400)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_2522)
    OP_7D(0x1, 0xE, 0x0, 0x0)

    def lambda_2538():
        OP_8E(0xE, 0x4434, 0xFA0, 0xFFFFF632, 0x3A98, 0x0)
        ExitThread()

    QueueWorkItem(0xE, 2, lambda_2538)
    Sleep(500)

    ChrTalk(    #72
        0x8,
        "#254F#2P唔！？\x02",
    )

    CloseMessageWindow()
    WaitChrThread(0xE, 0x2)
    OP_44(0xE, 0x1)
    SetChrFlags(0xE, 0x80)
    Jump("loc_25F3")

    label("loc_2577")


    def lambda_257D():
        OP_6B(2000, 500)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_257D)
    PlayEffect(0x0, 0xFF, 0xFF, -6020, 1000, 400, 90, 0, 0, 1000, 1000, 1000, 0xFF, 0, 0, 0, 0)
    Sleep(300)
    OP_96(0x8, 0x16BC, 0x0, 0x366, 0x12C, 0x3A98)
    TurnDirection(0x8, 0x101, 400)

    ChrTalk(    #73
        0x8,
        "#254F#2P唔！？\x02",
    )

    CloseMessageWindow()

    label("loc_25F3")


    ChrTalk(    #74
        0x101,
        "#1004F#6P哎……？\x02",
    )

    CloseMessageWindow()
    OP_59()
    OP_1D(0x2C)
    Fade(400)
    OP_6D(-200, 0, -400, 0)
    OP_67(0, 4560, -10000, 0)
    OP_6B(2000, 0)
    OP_6C(78000, 0)
    OP_6E(474, 0)
    OP_4F(0x1C, (scpexpr(EXPR_PUSH_LONG, 0x1), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    OP_7D(0x0, 0xF, 0x32, 0x12C)
    SetChrPos(0xF, -10320, 0, -160, 90)
    ClearChrFlags(0xF, 0x80)
    SetChrChipByIndex(0xF, 36)
    SetChrSubChip(0xF, 0)

    NpcTalk(    #75 op#A op#5
        0xF,
        "男人的声音",
        "#10A#5P嗬啊啊啊啊！\x05\x02",
    )


    def lambda_26AA():
        OP_8E(0xFE, 0xFFFFE96C, 0xFFFFFFBA, 0x186, 0x1770, 0x0)
        ExitThread()

    QueueWorkItem(0xF, 1, lambda_26AA)
    WaitChrThread(0xF, 0x1)

    def lambda_26CA():
        OP_6D(3500, 0, 400, 1000)
        ExitThread()

    QueueWorkItem(0x101, 0, lambda_26CA)
    SetChrFlags(0xF, 0x4)
    SetChrFlags(0xF, 0x2)
    SetChrFlags(0xF, 0x20)
    SetChrChipByIndex(0xF, 28)
    SetChrSubChip(0xF, 32)
    OP_22(0xA3, 0x0, 0x64)

    def lambda_2700():
        OP_96(0xFE, 0xFFFFFB78, 0xFFFFFF9C, 0xFFFFF5C4, 0x3E8, 0xFA0)
        ExitThread()

    QueueWorkItem(0xF, 1, lambda_2700)
    WaitChrThread(0xF, 0x1)
    OP_22(0xA4, 0x0, 0x64)
    SetChrChipByIndex(0xF, 33)
    SetChrSubChip(0xF, 15)
    OP_22(0xA3, 0x0, 0x64)

    def lambda_2737():
        OP_96(0xFE, 0x226, 0xFFFFFF9C, 0x4C4, 0x3E8, 0xFA0)
        ExitThread()

    QueueWorkItem(0xF, 1, lambda_2737)
    WaitChrThread(0xF, 0x1)
    OP_22(0xA4, 0x0, 0x64)

    def lambda_275F():
        OP_6D(5000, 0, 1360, 500)
        ExitThread()

    QueueWorkItem(0x101, 0, lambda_275F)

    def lambda_2777():
        OP_67(0, 4500, -10000, 500)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_2777)

    def lambda_278F():
        OP_6B(1600, 500)
        ExitThread()

    QueueWorkItem(0x101, 2, lambda_278F)

    def lambda_279F():
        OP_6C(45000, 500)
        ExitThread()

    QueueWorkItem(0xF7, 2, lambda_279F)
    SetChrFlags(0xF, 0x4)
    SetChrFlags(0xF, 0x2)
    SetChrSubChip(0xF, 0)
    SetChrChipByIndex(0xF, 33)
    OP_22(0xA3, 0x0, 0x64)

    def lambda_27C8():
        OP_96(0xF, 0x10FE, 0x1F4, 0x3C0, 0x7D0, 0x1B58)
        ExitThread()

    QueueWorkItem(0xF, 3, lambda_27C8)
    OP_99(0xF, 0x0, 0x3, 0xDAC)
    SetChrSubChip(0xF, 3)
    SetChrChipByIndex(0xF, 33)
    OP_7D(0x1, 0xF, 0x0, 0x0)
    OP_43(0x101, 0x3, 0x0, 0x1E)
    Sleep(200)
    OP_43(0xF, 0x0, 0x0, 0x1D)
    WaitChrThread(0xF, 0x0)

    def lambda_2819():
        OP_6B(2000, 500)
        ExitThread()

    QueueWorkItem(0x101, 0, lambda_2819)

    def lambda_2829():
        OP_6D(5330, 0, 1510, 500)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_2829)

    def lambda_2841():
        OP_67(0, 5500, -10000, 500)
        ExitThread()

    QueueWorkItem(0x101, 2, lambda_2841)
    ClearChrFlags(0xF, 0x4)

    def lambda_285E():
        OP_96(0xFE, 0xC26, 0x0, 0x154, 0x3E8, 0x1388)
        ExitThread()

    QueueWorkItem(0xF, 1, lambda_285E)

    def lambda_287C():
        OP_99(0xF, 0x13, 0x17, 0x7D0)
        ExitThread()

    QueueWorkItem(0xF, 2, lambda_287C)
    WaitChrThread(0xF, 0x1)
    OP_22(0xA4, 0x0, 0x64)
    WaitChrThread(0x101, 0x0)
    WaitChrThread(0x101, 0x1)
    OP_4F(0x1C, (scpexpr(EXPR_PUSH_LONG, 0x0), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    WaitChrThread(0xF, 0x2)
    Sleep(500)

    NpcTalk(    #76
        0xF,
        "东方风格的巨汉",
        "#6P………………………\x02",
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_29B6")
    SetChrPos(0x11, -5100, 0, -1100, 90)
    ClearChrFlags(0x11, 0x80)
    SetChrPos(0xE, 7850, 4000, 9650, 90)
    ClearChrFlags(0xE, 0x80)

    NpcTalk(    #77
        0x11,
        "女孩的声音",
        (
            "#2P呼……\x01",
            "看来赶上了呢。\x02",
        )
    )

    CloseMessageWindow()
    Sleep(200)
    SetChrChipByIndex(0x11, 19)
    OP_43(0xE, 0x0, 0x0, 0x15)
    OP_43(0xE, 0x1, 0x0, 0x16)
    OP_8F(0x11, 0x708, 0x0, 0x514, 0x1388, 0x0)
    SetChrSubChip(0x11, 3)
    SetChrChipByIndex(0x11, 35)
    WaitChrThread(0xE, 0x1)
    Fade(250)
    SetChrFlags(0xE, 0x80)
    SetChrSubChip(0x11, 1)
    SetChrChipByIndex(0x11, 35)
    OP_0D()

    ChrTalk(    #78
        0x101,
        (
            "#1004F#6P科洛丝！\x01",
            "还有……金先生！？\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_2A70")

    label("loc_29B6")

    SetChrPos(0x10, -4120, 0, -400, 90)
    ClearChrFlags(0x10, 0x80)
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_29D8")
    SetChrFlags(0x10, 0x8000)

    label("loc_29D8")


    NpcTalk(    #79
        0x10,
        "青年的声音",
        (
            "#2P呼……\x01",
            "看来赶上了。\x02",
        )
    )

    CloseMessageWindow()
    Sleep(200)
    SetChrChipByIndex(0x10, 18)
    OP_8F(0x10, 0x708, 0x0, 0x514, 0x1388, 0x0)
    OP_8C(0x10, 90, 400)
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_2A30")
    ClearChrFlags(0x10, 0x8000)

    label("loc_2A30")

    OP_22(0xD8, 0x0, 0x64)
    SetChrSubChip(0x10, 0)
    SetChrChipByIndex(0x10, 12)
    Sleep(500)

    ChrTalk(    #80
        0x101,
        (
            "#1004F#6P奥利维尔！\x01",
            "还有……金先生！？\x02",
        )
    )

    CloseMessageWindow()

    label("loc_2A70")


    ChrTalk(    #81
        0xF,
        (
            "#070F#5P哟，艾丝蒂尔。\x01",
            "真是好久不见了啊。\x02\x03",

            "原本打算早点赶来的，\x01",
            "但那边的工作一直拖延……\x02\x03",

            "不过，看来总算赶上了。\x02",
        )
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_2B1D")

    ChrTalk(    #82
        0x106,
        (
            "#556F#5P真是的……算准了\x01",
            "时机才出现啊。\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_2B48")

    label("loc_2B1D")


    ChrTalk(    #83
        0x103,
        (
            "#524F#5P呵呵……算准了\x01",
            "时机才过来啊。\x02",
        )
    )

    CloseMessageWindow()

    label("loc_2B48")


    ChrTalk(    #84
        0x8,
        (
            "#257F呵呵……\x02\x03",

            "莱维的报告里\x01",
            "卡尔瓦德的Ａ级游击士……\x02\x03",

            "#251F金，指的就是你吧。\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #85
        0xF,
        (
            "#074F#6P嗯，没错。\x02\x03",

            "#072F没想到会在这种地方\x01",
            "再度碰到你……\x02\x03",

            "你什么时候\x01",
            "加入到『结社』了？\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #86
        0x8,
        (
            "#253F呵，在那之后\x01",
            "我很快就被网罗了。\x02\x03",

            "每天都过得\x01",
            "相当刺激哦。\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #87
        0xF,
        (
            "#077F#6P说什么傻话……\x02\x03",

            "#076F你到底知不知道\x01",
            "自己在做什么啊！？\x02\x03",

            "这样做\x01",
            "师父什么时候才能瞑目……\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #88
        0x8,
        (
            "#255F喂喂，别说那些漂亮话了。\x02\x03",

            "你应该知道才对。\x01",
            "我选择了什么样的道路。\x02\x03",

            "#253F再胡说八道……就杀了你哦？\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #89
        0xF,
        (
            "#072F#6P……………………………\x02\x03",

            "#075F那么……\x01",
            "你知道吗？\x02\x03",

            "雾香她人在蔡斯。\x02",
        )
    )

    CloseMessageWindow()
    OP_62(0x8, 0x0, 2300, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(1000)

    ChrTalk(    #90
        0x8,
        "#255F什么……？\x02",
    )

    CloseMessageWindow()

    ChrTalk(    #91
        0xF,
        (
            "#072F#6P听说从两年前开始\x01",
            "就做了协会的接待员。\x02\x03",

            "在这之前\x01",
            "似乎是在大陆各地巡游。\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #92
        0x8,
        (
            "#256F……啧………\x02\x03",

            "没想到会在利贝尔\x01",
            "这么远的地方……\x02\x03",

            "#257F那白痴，想什么呢。\x02",
        )
    )

    CloseMessageWindow()

    ChrTalk(    #93
        0xF,
        (
            "#074F#6P谁知道，我也不清楚。\x02\x03",

            "#070F不过，那家伙一定\x01",
            "很想见你。\x02\x03",

            "『结社』的事姑且不论\x01",
            "好歹去露个脸如何……\x02",
        )
    )

    CloseMessageWindow()
    OP_4F(0x1C, (scpexpr(EXPR_PUSH_LONG, 0x1), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    SetChrChipByIndex(0x8, 34)
    SetChrSubChip(0x8, 0)

    def lambda_2EBF():
        OP_99(0x8, 0x0, 0x2, 0xBB8)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_2EBF)
    WaitChrThread(0x8, 0x2)

    def lambda_2ED4():
        OP_6D(3710, 0, 400, 800)
        ExitThread()

    QueueWorkItem(0x101, 0, lambda_2ED4)

    def lambda_2EEC():
        OP_67(0, 4500, -10000, 500)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_2EEC)

    def lambda_2F04():
        OP_6B(1600, 500)
        ExitThread()

    QueueWorkItem(0x101, 2, lambda_2F04)
    ClearChrFlags(0x8, 0x4)

    def lambda_2F19():
        OP_96(0x8, 0x1108, 0x4B0, 0xA0, 0x578, 0x1B58)
        ExitThread()

    QueueWorkItem(0x8, 1, lambda_2F19)
    OP_22(0x84, 0x0, 0x64)

    def lambda_2F3C():
        OP_99(0x8, 0x2, 0x5, 0x7D0)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_2F3C)
    WaitChrThread(0x8, 0x2)
    OP_7C(0x64, 0x0, 0x1388, 0x3E8)
    PlayEffect(0x7, 0xFF, 0xF, 0, 1000, 0, 0, 0, 0, 500, 500, 500, 0xFF, 0, 0, 0, 0)
    ClearChrFlags(0xF, 0x2)
    ClearChrFlags(0xF, 0x20)
    OP_8C(0xF, 90, 0)
    SetChrChipByIndex(0xF, 27)
    SetChrSubChip(0xF, 6)

    def lambda_2FB2():
        OP_8F(0xFE, 0xC26, 0x0, 0x348, 0x7D0, 0x0)
        ExitThread()

    QueueWorkItem(0xF, 0, lambda_2FB2)

    def lambda_2FCD():
        OP_9E(0xF, 0x28, 0x0, 0x3E8, 0xBB8)
        ExitThread()

    QueueWorkItem(0xF, 2, lambda_2FCD)
    Sleep(200)

    def lambda_2FEC():
        OP_99(0x8, 0x5, 0xC, 0x7D0)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_2FEC)
    WaitChrThread(0xF, 0x0)
    WaitChrThread(0x101, 0x0)
    WaitChrThread(0x101, 0x1)
    WaitChrThread(0x101, 0x2)
    OP_4F(0x1C, (scpexpr(EXPR_PUSH_LONG, 0x0), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))

    ChrTalk(    #94
        0xF,
        "#077F#6P啧……\x02",
    )

    WaitChrThread(0x8, 0x2)
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_304C")
    SetChrFlags(0x11, 0x20)
    OP_8C(0x11, 135, 400)
    ClearChrFlags(0x11, 0x20)
    Jump("loc_3053")

    label("loc_304C")

    OP_8C(0x10, 135, 400)

    label("loc_3053")

    CloseMessageWindow()
    Fade(250)
    SetChrChipByIndex(0x8, 31)
    SetChrSubChip(0x8, 0)
    OP_0D()

    ChrTalk(    #95
        0x8,
        (
            "#254F#2P我不是说了\x01",
            "再胡说八道就杀了你吗……\x02",
        )
    )

    CloseMessageWindow()

    def lambda_309B():
        OP_6D(5700, 0, 2200, 500)
        ExitThread()

    QueueWorkItem(0x101, 0, lambda_309B)

    def lambda_30B3():
        OP_67(0, 5500, -10000, 500)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_30B3)

    def lambda_30CB():
        OP_6B(2000, 500)
        ExitThread()

    QueueWorkItem(0x101, 2, lambda_30CB)
    Sleep(100)
    OP_8C(0x8, 225, 0)
    SetChrChipByIndex(0x8, 32)
    SetChrSubChip(0x8, 0)
    OP_22(0x23B, 0x0, 0x64)
    OP_7D(0x0, 0x8, 0x32, 0x1F4)
    OP_96(0x8, 0x1EB4, 0x0, 0xB22, 0x190, 0x1770)
    OP_7D(0x1, 0x8, 0x0, 0x0)
    SetChrSubChip(0x8, 1)
    SetChrSubChip(0x8, 0)
    SetChrChipByIndex(0x8, 31)
    SetChrChipByIndex(0xF, 26)
    SetChrSubChip(0xF, 0)
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_3151")
    SetChrFlags(0x11, 0x20)
    OP_8C(0x11, 90, 400)
    ClearChrFlags(0x11, 0x20)
    Jump("loc_3158")

    label("loc_3151")

    OP_8C(0x10, 90, 400)

    label("loc_3158")

    WaitChrThread(0x101, 0x0)
    WaitChrThread(0x101, 0x1)
    Sleep(500)

    ChrTalk(    #96
        0x8,
        (
            "#250F算了……\x02\x03",

            "雾香的事姑且不论，\x01",
            "能碰到你已经够幸运的了。\x02\x03",

            "此次的计划……\x01",
            "就尽情享受吧。\x02",
        )
    )

    CloseMessageWindow()

    def lambda_31CC():
        OP_6D(6620, 0, 2060, 2000)
        ExitThread()

    QueueWorkItem(0x8, 1, lambda_31CC)
    SetChrFlags(0x8, 0x20)
    OP_8C(0x8, 90, 400)
    ClearChrFlags(0x8, 0x20)
    Sleep(500)
    OP_22(0x82, 0x0, 0x64)
    OP_71(0x1, 0x4)
    Sleep(1000)
    OP_22(0x64, 0x0, 0x64)
    OP_22(0x83, 0x0, 0x64)
    Sleep(500)
    OP_22(0x9A, 0x0, 0x64)
    Sleep(500)
    Fade(1000)
    OP_79(0x0, 0x2)
    OP_79(0x1, 0x1)
    OP_79(0x2, 0x1)
    OP_79(0x3, 0x1)
    OP_79(0x4, 0x1)
    OP_7B()
    OP_82(0x80, 0x0)
    OP_82(0x83, 0x2)
    OP_82(0x84, 0x2)
    PlayEffect(0x86, 0xFF, 0xFFFF, 0, 0, 0, 0, 0, 0, 1000, 1000, 1000, 0xFF, 0, 0, 0, 0)
    Sleep(1000)
    OP_24(0x90, 0x5A)
    Sleep(500)
    OP_24(0x90, 0x50)
    Sleep(500)
    OP_24(0x90, 0x46)
    Sleep(500)
    OP_24(0x90, 0x3C)
    Sleep(250)
    OP_24(0x90, 0x32)
    Sleep(250)
    OP_24(0x90, 0x28)
    Sleep(250)
    OP_24(0x90, 0x1E)
    Sleep(150)
    OP_24(0x90, 0x14)
    Sleep(50)
    OP_24(0x90, 0xA)
    Sleep(50)
    OP_23(0x90)

    ChrTalk(    #97
        0xF,
        "#076F#6P喂，瓦鲁特！\x02",
    )

    CloseMessageWindow()
    SetChrFlags(0x8, 0x20)
    OP_8C(0x8, 225, 400)
    ClearChrFlags(0x8, 0x20)
    Sleep(500)

    ChrTalk(    #98
        0x8,
        (
            "#252F#2P哼哼，下次见面之前\x01",
            "好好锻炼功夫吧。\x02\x03",

            "再见啦。\x02",
        )
    )

    CloseMessageWindow()
    SetChrFlags(0x8, 0x20)
    OP_8C(0x8, 270, 400)
    ClearChrFlags(0x8, 0x20)

    def lambda_334F():
        OP_6D(3970, 0, 2280, 3000)
        ExitThread()

    QueueWorkItem(0xF7, 1, lambda_334F)

    def lambda_3367():

        label("loc_3367")

        TurnDirection(0xFE, 0x8, 400)
        OP_48()
        Jump("loc_3367")

    QueueWorkItem2(0x101, 3, lambda_3367)

    def lambda_3378():

        label("loc_3378")

        TurnDirection(0xFE, 0x8, 400)
        OP_48()
        Jump("loc_3378")

    QueueWorkItem2(0xF, 3, lambda_3378)
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_33A9")
    SetChrFlags(0x11, 0x20)

    def lambda_339B():

        label("loc_339B")

        TurnDirection(0xFE, 0x8, 400)
        OP_48()
        Jump("loc_339B")

    QueueWorkItem2(0x11, 3, lambda_339B)
    Jump("loc_33BA")

    label("loc_33A9")


    def lambda_33AF():

        label("loc_33AF")

        TurnDirection(0xFE, 0x8, 400)
        OP_48()
        Jump("loc_33AF")

    QueueWorkItem2(0x10, 3, lambda_33AF)

    label("loc_33BA")

    SetChrSubChip(0x8, 0)
    SetChrChipByIndex(0x8, 21)

    def lambda_33CA():
        OP_8F(0x8, 0xFFFFDCD8, 0x0, 0xFA0, 0xBB8, 0x0)
        ExitThread()

    QueueWorkItem(0x8, 1, lambda_33CA)
    Sleep(1500)
    OP_62(0xF, 0x0, 2300, 0x2, 0x7, 0x50, 0x1)
    OP_22(0x27, 0x0, 0x64)
    Sleep(1000)

    ChrTalk(    #99
        0xF,
        "#076F#3S#5P瓦鲁特！！\x02",
    )

    CloseMessageWindow()

    def lambda_3421():
        OP_6D(-500, 0, 2000, 3000)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_3421)

    def lambda_3439():
        OP_67(0, 6500, -10000, 3000)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_3439)

    def lambda_3451():
        OP_6C(33000, 3000)
        ExitThread()

    QueueWorkItem(0x8, 3, lambda_3451)
    OP_44(0xF, 0x3)
    SetChrChipByIndex(0xF, 36)
    SetChrSubChip(0xF, 0)
    OP_8E(0xF, 0x9E2, 0x0, 0xF8C, 0xFA0, 0x0)
    OP_20(0xBB8)
    OP_8E(0xF, 0xFFFFFCE0, 0xFFFFFF7E, 0xE92, 0xFA0, 0x0)
    SetChrSubChip(0xF, 0)
    SetChrChipByIndex(0xF, 25)
    WaitChrThread(0x101, 0x1)
    OP_44(0x101, 0x3)
    OP_44(0x11, 0x3)
    OP_44(0x10, 0x3)
    WaitChrThread(0x8, 0x1)
    SetChrFlags(0x8, 0x80)
    Sleep(500)
    WaitChrThread(0x8, 0x3)

    ChrTalk(    #100
        0xF,
        "#072F#5P……………………………\x02",
    )

    CloseMessageWindow()
    Sleep(500)
    OP_43(0xF7, 0x1, 0x0, 0x13)
    Sleep(800)
    SetChrSubChip(0x101, 0)
    SetChrChipByIndex(0x101, 65535)
    OP_43(0xF9, 0x1, 0x0, 0x13)
    Sleep(800)
    OP_43(0x107, 0x1, 0x0, 0x13)
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_3527")
    Jump("loc_3531")

    label("loc_3527")

    SetChrChipByIndex(0x10, 38)
    SetChrSubChip(0x10, 0)

    label("loc_3531")

    WaitChrThread(0x107, 0x1)
    OP_8C(0x101, 325, 0)

    ChrTalk(    #101
        0x101,
        (
            "#1025F#6P嗯……\x01",
            "谢谢你救了我。\x02\x03",

            "但是，为什么\x01",
            "金先生你们会在这里？\x02",
        )
    )

    CloseMessageWindow()
    OP_1D(0x1)

    def lambda_358C():
        OP_6D(200, 0, 2700, 1500)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_358C)

    def lambda_35A4():
        OP_6C(5000, 1500)
        ExitThread()

    QueueWorkItem(0x101, 3, lambda_35A4)
    Sleep(500)
    TurnDirection(0xF, 0x101, 400)
    WaitChrThread(0x101, 0x1)

    ChrTalk(    #102
        0xF,
        (
            "#070F#5P我跑去蔡斯支部的时候，\x01",
            "突然就被雾香催赶过来了。\x02\x03",

            "叫我赶快到亚尔摩\x01",
            "帮助你们。\x02",
        )
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_3653")
    OP_8C(0x11, 180, 400)

    ChrTalk(    #103
        0x11,
        (
            "#041F#5P于是我也\x01",
            "跟着过来了。\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_3681")

    label("loc_3653")

    OP_8C(0x10, 180, 400)

    ChrTalk(    #104
        0x10,
        (
            "#031F#5P呼，于是我也\x01",
            "陪着过来了。\x02",
        )
    )

    CloseMessageWindow()

    label("loc_3681")


    ChrTalk(    #105
        0x101,
        (
            "#1025F#6P是这样啊……\x02\x03",

            "#1016F谢谢。\x01",
            "真的帮大忙了。\x02",
        )
    )

    CloseMessageWindow()
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_36FB")

    ChrTalk(    #106
        0x106,
        (
            "#053F#6P话说回来……\x02\x03",

            "#555F你和那家伙\x01",
            "是什么关系？\x02",
        )
    )

    CloseMessageWindow()
    Jump("loc_3737")

    label("loc_36FB")


    ChrTalk(    #107
        0x103,
        (
            "#026F#6P话说回来……\x02\x03",

            "#022F金先生和那个人\x01",
            "是什么关系？\x02",
        )
    )

    CloseMessageWindow()

    label("loc_3737")

    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_375A")
    SetChrFlags(0x11, 0x20)

    def lambda_374F():
        TurnDirection(0x11, 0xF, 400)
        ExitThread()

    QueueWorkItem(0x11, 1, lambda_374F)
    Jump("loc_3768")

    label("loc_375A")


    def lambda_3760():
        TurnDirection(0x10, 0xF, 400)
        ExitThread()

    QueueWorkItem(0x10, 1, lambda_3760)

    label("loc_3768")


    ChrTalk(    #108
        0xF,
        (
            "#074F#5P……嗯，以前的朋友。\x02\x03",

            "#070F详情等离开这里\x01",
            "回到旅馆后洗个澡再说吧。\x02\x03",

            "龙脉的混乱平息之后\x01",
            "温泉马上也恢复原样了。\x02",
        )
    )

    CloseMessageWindow()
    FadeToDark(1000, 0, -1)
    OP_0D()
    Sleep(500)
    SetMessageWindowPos(72, 320, 56, 3)
    SetChrName("")

    AnonymousTalk(    #109
        (
            "\x07\x05返回亚尔摩的艾丝蒂尔一行人\x01",
            "在红叶亭的澡堂暖和身体之后\x01",
            "决定返回蔡斯支部。\x02",
        )
    )

    CloseMessageWindow()
    OP_56(0x0)
    Sleep(1000)
    SetMapFlags(0x2000000)
    OP_A2(0x10F1)
    NewScene("ED6_DT21/T3120   ._SN", 100, 0, 0)
    IdleLoop()
    Return()

    # Function_13_18C9 end

    def Function_14_3865(): pass

    label("Function_14_3865")

    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_3883")
    SetChrFlags(0x106, 0x800)
    SetChrFlags(0x106, 0x8000)
    SetChrSubChip(0x106, 0)
    SetChrChipByIndex(0x106, 11)
    Jump("loc_388D")

    label("loc_3883")

    SetChrSubChip(0x103, 0)
    SetChrChipByIndex(0x103, 11)

    label("loc_388D")

    OP_22(0x20C, 0x0, 0x64)
    OP_99(0xFE, 0x0, 0x3, 0x7D0)
    Return()

    # Function_14_3865 end

    def Function_15_389C(): pass

    label("Function_15_389C")

    SetChrFlags(0x101, 0x800)
    SetChrSubChip(0x101, 0)
    SetChrChipByIndex(0x101, 2)
    OP_22(0x20C, 0x0, 0x64)
    OP_99(0xFE, 0x0, 0x3, 0x7D0)
    Return()

    # Function_15_389C end

    def Function_16_38BA(): pass

    label("Function_16_38BA")

    SetChrSubChip(0x107, 0)
    SetChrChipByIndex(0x107, 5)
    OP_22(0x20C, 0x0, 0x64)
    OP_99(0xFE, 0x0, 0x3, 0x7D0)
    Return()

    # Function_16_38BA end

    def Function_17_38D3(): pass

    label("Function_17_38D3")

    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_38F2")
    SetChrFlags(0x104, 0x8000)
    SetChrSubChip(0x104, 0)
    SetChrChipByIndex(0x104, 14)
    Jump("loc_3901")

    label("loc_38F2")

    SetChrFlags(0x105, 0x8000)
    SetChrSubChip(0x105, 0)
    SetChrChipByIndex(0x105, 17)

    label("loc_3901")

    OP_22(0x20C, 0x0, 0x64)
    OP_99(0xFE, 0x0, 0x3, 0x7D0)
    Return()

    # Function_17_38D3 end

    def Function_18_3910(): pass

    label("Function_18_3910")

    SetChrSubChip(0x8, 0)
    SetChrChipByIndex(0x8, 21)
    OP_8C(0x8, 90, 400)
    OP_8E(0x8, 0x1932, 0x0, 0x852, 0x5DC, 0x0)
    Return()

    # Function_18_3910 end

    def Function_19_3936(): pass

    label("Function_19_3936")


    def lambda_393C():

        label("loc_393C")

        OP_9E(0xFE, 0x32, 0x0, 0x1388, 0x7D0)
        OP_48()
        Jump("loc_393C")

    QueueWorkItem2(0xFE, 2, lambda_393C)
    Sleep(500)
    OP_99(0xFE, 0x3, 0x0, 0x3E8)
    Sleep(500)
    OP_44(0xFE, 0x2)
    SetChrSubChip(0xFE, 0)
    SetChrChipByIndex(0xFE, 65535)
    TurnDirection(0xFE, 0xF, 400)
    Return()

    # Function_19_3936 end

    def Function_20_397C(): pass

    label("Function_20_397C")

    OP_8E(0xFE, 0x6F4, 0x0, 0x5F0, 0x7D0, 0x0)
    OP_8C(0xFE, 270, 400)
    Return()

    # Function_20_397C end

    def Function_21_3998(): pass

    label("Function_21_3998")

    Jc((scpexpr(EXPR_PUSH_LONG, 0x1), scpexpr(EXPR_END)), "loc_39AD")
    OP_99(0xFE, 0x0, 0x7, 0x5DC)
    Jump("Function_21_3998")

    label("loc_39AD")

    Return()

    # Function_21_3998 end

    def Function_22_39AE(): pass

    label("Function_22_39AE")

    Sleep(500)
    OP_22(0x8C, 0x0, 0x64)
    OP_8E(0xE, 0x3F2, 0x5DC, 0x83E, 0x1388, 0x0)
    SetChrSubChip(0xE, 0)
    SetChrChipByIndex(0xE, 39)
    OP_43(0xE, 0x0, 0x0, 0x15)
    OP_8C(0xE, 90, 400)
    OP_8F(0xE, 0x726, 0x64, 0x5FA, 0x7D0, 0x0)
    Return()

    # Function_22_39AE end

    def Function_23_39F9(): pass

    label("Function_23_39F9")

    OP_7D(0x0, 0x8, 0x32, 0x1F4)

    def lambda_3A07():
        OP_6D(390, 0, 2650, 1000)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_3A07)

    def lambda_3A1F():
        OP_6B(500, 1000)
        ExitThread()

    QueueWorkItem(0x101, 2, lambda_3A1F)
    Sleep(200)
    SetChrChipByIndex(0x8, 32)
    SetChrSubChip(0x8, 2)
    OP_22(0xA3, 0x0, 0x64)

    def lambda_3A43():
        OP_96(0x8, 0xCEE, 0x0, 0x73A, 0x1F4, 0x1388)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_3A43)
    Sleep(200)
    OP_44(0x101, 0x1)
    OP_44(0x101, 0x2)
    Fade(250)
    OP_6D(640, 0, 1950, 0)
    OP_67(0, 8980, -10000, 0)
    OP_6C(315000, 0)
    OP_6B(800, 0)
    OP_6E(872, 0)
    WaitChrThread(0x8, 0x2)
    OP_22(0xA4, 0x0, 0x64)
    SetChrChipByIndex(0x8, 24)
    SetChrSubChip(0x8, 6)
    OP_7D(0x1, 0x8, 0x0, 0x0)
    OP_0D()

    ChrTalk(    #110
        0x101,
        "#1004F#5P咦……！？\x02",
    )

    CloseMessageWindow()
    OP_99(0x8, 0x6, 0x8, 0x7D0)
    OP_22(0x1FB, 0x0, 0x64)
    OP_99(0x8, 0x9, 0xC, 0x1388)
    OP_22(0x245, 0x0, 0x64)
    OP_4F(0x1C, (scpexpr(EXPR_PUSH_LONG, 0x1), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    OP_7C(0x64, 0x0, 0x1388, 0x3E8)

    def lambda_3B1C():
        OP_6B(900, 300)
        ExitThread()

    QueueWorkItem(0x101, 2, lambda_3B1C)
    PlayEffect(0x2, 0xFF, 0xFF, 1690, 0, 1790, 0, 90, 90, 1000, 1000, 1000, 0xFF, 0, 0, 0, 0)
    PlayEffect(0x3, 0x2, 0x8, 0, 200, 0, 0, 0, 0, 0, 0, 0, 0xFF, 0, 0, 0, 0)
    OP_43(0x101, 0x3, 0x0, 0x19)
    Sleep(100)
    OP_43(0xF7, 0x3, 0x0, 0x1A)
    Sleep(100)
    OP_43(0xF9, 0x3, 0x0, 0x1B)
    Sleep(100)
    OP_43(0x107, 0x3, 0x0, 0x1C)
    OP_82(0x3, 0x0)
    Return()

    # Function_23_39F9 end

    def Function_24_3BBF(): pass

    label("Function_24_3BBF")

    ClearMapFlags(0x10)
    OP_4F(0x1C, (scpexpr(EXPR_PUSH_LONG, 0x1), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))

    def lambda_3BD3():
        OP_6D(1640, 0, 2600, 400)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_3BD3)

    def lambda_3BEB():
        OP_67(0, 6980, -10000, 400)
        ExitThread()

    QueueWorkItem(0x101, 2, lambda_3BEB)

    def lambda_3C03():
        OP_6B(820, 400)
        ExitThread()

    QueueWorkItem(0x101, 3, lambda_3C03)

    def lambda_3C13():
        OP_6C(330000, 400)
        ExitThread()

    QueueWorkItem(0x107, 1, lambda_3C13)

    def lambda_3C23():
        OP_6E(872, 400)
        ExitThread()

    QueueWorkItem(0x107, 2, lambda_3C23)
    SetChrFlags(0x8, 0x40)
    SetChrFlags(0x8, 0x4)
    Sleep(200)
    OP_7D(0x0, 0x8, 0x1E, 0xC8)
    SetChrChipByIndex(0x8, 32)
    SetChrSubChip(0x8, 2)
    OP_22(0xA3, 0x0, 0x64)

    def lambda_3C59():
        OP_96(0x8, 0x1090, 0xFFFFFF38, 0x780, 0x2BC, 0x1388)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_3C59)
    Sleep(200)
    OP_7D(0x1, 0x8, 0x0, 0x0)
    WaitChrThread(0x8, 0x2)
    OP_22(0xA4, 0x0, 0x64)
    SetChrFlags(0x8, 0x2)
    SetChrChipByIndex(0x8, 30)
    SetChrSubChip(0x8, 27)
    ClearChrFlags(0x8, 0x100)
    OP_D1(8, 24000, -30000, 0, 0)
    SetChrPos(0x8, 3540, 0, 2120, 270)
    OP_51(0x8, 0x2D, (scpexpr(EXPR_PUSH_LONG, 0x280), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    OP_51(0x8, 0x2E, (scpexpr(EXPR_PUSH_LONG, 0x280), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    OP_51(0x8, 0x2F, (scpexpr(EXPR_PUSH_LONG, 0x280), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    PlayEffect(0x4, 0x1, 0x8, 300, 100, 0, 0, 0, 0, 1000, 1000, 1000, 0xFF, 0, 0, 0, 0)
    PlayEffect(0x5, 0x2, 0x8, 400, 750, -100, 0, 0, 0, 1000, 1000, 1000, 0xFF, 0, 0, 0, 0)

    ChrTalk(    #111 op#A
        0x101,
        "#1004F#6P#10A咦……！？\x02",
    )

    Sleep(500)
    OP_56(0x0)
    OP_83(0x1, 0x2)

    def lambda_3D77():
        OP_99(0xFE, 0x1B, 0x1E, 0x7D0)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_3D77)
    OP_82(0x1, 0x0)
    OP_82(0x2, 0x0)
    Sleep(200)
    OP_22(0x245, 0x0, 0x64)

    def lambda_3D97():
        OP_6D(1080, 0, 1580, 300)
        ExitThread()

    QueueWorkItem(0x101, 2, lambda_3D97)

    def lambda_3DAF():
        OP_67(0, 7980, -10000, 300)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_3DAF)

    def lambda_3DC7():
        OP_6C(315000, 300)
        ExitThread()

    QueueWorkItem(0xF9, 2, lambda_3DC7)

    def lambda_3DD7():
        OP_D1(254, 34000, -45000, 0, 300)
        ExitThread()

    QueueWorkItem(0x8, 3, lambda_3DD7)
    OP_7C(0xC8, 0x0, 0x1388, 0x3E8)
    PlayEffect(0x2, 0xFF, 0xFF, 1980, 0, 1580, 0, 0, 60, 1000, 1000, 1000, 0xFF, 0, 0, 0, 0)
    PlayEffect(0x3, 0x3, 0x8, 0, 200, 0, 0, 0, 0, 0, 0, 0, 0xFF, 0, 0, 0, 0)
    OP_43(0x101, 0x3, 0x0, 0x19)
    Sleep(100)
    OP_82(0x3, 0x2)
    OP_43(0xF7, 0x3, 0x0, 0x1A)
    Sleep(100)
    OP_43(0xF9, 0x3, 0x0, 0x1B)
    Sleep(100)
    OP_43(0x107, 0x3, 0x0, 0x1C)
    Return()

    # Function_24_3BBF end

    def Function_25_3E95(): pass

    label("Function_25_3E95")

    SetChrPos(0x12, 2590, 0, 640, 0)
    SetChrSubChip(0x101, 0)
    SetChrChipByIndex(0x101, 1)
    OP_22(0x209, 0x0, 0x64)
    PlayEffect(0x1, 0x0, 0x101, 0, 200, 0, 0, 0, 0, 900, 900, 900, 0xFF, 0, 0, 0, 0)

    def lambda_3EF0():
        OP_8F(0xFE, 0x6FE, 0x0, 0x3C, 0x1770, 0x0)
        ExitThread()

    QueueWorkItem(0x101, 1, lambda_3EF0)

    def lambda_3F0B():
        OP_9E(0xFE, 0x32, 0x0, 0x5DC, 0xFA0)
        ExitThread()

    QueueWorkItem(0xFE, 0, lambda_3F0B)
    Sleep(500)
    OP_82(0x1, 0x2)

    ChrTalk(    #112 op#A op#5
        0x12,
        "#1021F#10A#4P唔！？\x05\x02",
    )

    Return()

    # Function_25_3E95 end

    def Function_26_3F41(): pass

    label("Function_26_3F41")

    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 1)), scpexpr(EXPR_END)), "loc_3FE4")
    SetChrSubChip(0x106, 0)
    SetChrChipByIndex(0x106, 10)
    OP_22(0x209, 0x0, 0x64)
    PlayEffect(0x1, 0x1, 0x106, 0, 200, 0, 0, 0, 0, 900, 900, 900, 0xFF, 0, 0, 0, 0)

    def lambda_3F92():
        OP_8F(0xFE, 0x208, 0xFFFFFFEC, 0xA78, 0x1770, 0x0)
        ExitThread()

    QueueWorkItem(0x106, 1, lambda_3F92)

    def lambda_3FAD():
        OP_9E(0xFE, 0x32, 0x0, 0x5DC, 0xFA0)
        ExitThread()

    QueueWorkItem(0xFE, 0, lambda_3FAD)
    Sleep(500)
    OP_82(0x1, 0x2)

    ChrTalk(    #113 op#A op#5
        0x106,
        "#056F#10A#2P啊！？\x05\x02",
    )

    Jump("loc_407D")

    label("loc_3FE4")

    SetChrSubChip(0x103, 0)
    SetChrChipByIndex(0x103, 10)
    OP_22(0x209, 0x0, 0x64)
    PlayEffect(0x1, 0x1, 0x103, 0, 200, 0, 0, 0, 0, 900, 900, 900, 0xFF, 0, 0, 0, 0)

    def lambda_402E():
        OP_8F(0xFE, 0x208, 0xFFFFFFEC, 0xA78, 0x1770, 0x0)
        ExitThread()

    QueueWorkItem(0x103, 1, lambda_402E)

    def lambda_4049():
        OP_9E(0xFE, 0x32, 0x0, 0x5DC, 0xFA0)
        ExitThread()

    QueueWorkItem(0xFE, 0, lambda_4049)
    Sleep(500)
    OP_82(0x1, 0x2)

    ChrTalk(    #114 op#A op#5
        0x103,
        "#523F#10A#2P唔！？\x05\x02",
    )


    label("loc_407D")

    Return()

    # Function_26_3F41 end

    def Function_27_407E(): pass

    label("Function_27_407E")

    OP_22(0x1FB, 0x0, 0x64)
    Jc((scpexpr(EXPR_EXEC_OP, "OP_CB(0xF9)"), scpexpr(EXPR_PUSH_LONG, 0x3), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_412E")
    SetChrSubChip(0x104, 0)
    SetChrChipByIndex(0x104, 13)
    OP_22(0x209, 0x0, 0x64)
    PlayEffect(0x1, 0x2, 0x104, 0, 200, 0, 0, 0, 0, 900, 900, 900, 0xFF, 0, 0, 0, 0)

    def lambda_40DA():
        OP_8F(0xFE, 0xFFFFFBF0, 0xFFFFFFF6, 0x6E0, 0x1770, 0x0)
        ExitThread()

    QueueWorkItem(0x104, 1, lambda_40DA)

    def lambda_40F5():
        OP_9E(0xFE, 0x32, 0x0, 0x5DC, 0xFA0)
        ExitThread()

    QueueWorkItem(0xFE, 0, lambda_40F5)
    Sleep(500)
    OP_82(0x1, 0x2)

    ChrTalk(    #115 op#A op#5
        0x104,
        "#039F#10A#1P呜哦！？\x05\x02",
    )

    Jump("loc_41C7")

    label("loc_412E")

    SetChrSubChip(0x105, 0)
    SetChrChipByIndex(0x105, 16)
    OP_22(0x209, 0x0, 0x64)
    PlayEffect(0x1, 0x2, 0x105, 0, 200, 0, 0, 0, 0, 900, 900, 900, 0xFF, 0, 0, 0, 0)

    def lambda_4178():
        OP_8F(0xFE, 0xFFFFFBF0, 0xFFFFFFF6, 0x6E0, 0x1770, 0x0)
        ExitThread()

    QueueWorkItem(0x105, 1, lambda_4178)

    def lambda_4193():
        OP_9E(0xFE, 0x32, 0x0, 0x5DC, 0xFA0)
        ExitThread()

    QueueWorkItem(0xFE, 0, lambda_4193)
    Sleep(500)
    OP_82(0x1, 0x0)

    ChrTalk(    #116 op#A op#5
        0x105,
        "#541F#10A#1P呀！？\x05\x02",
    )


    label("loc_41C7")

    Return()

    # Function_27_407E end

    def Function_28_41C8(): pass

    label("Function_28_41C8")

    SetChrSubChip(0x107, 0)
    SetChrChipByIndex(0x107, 4)
    OP_22(0x209, 0x0, 0x64)

    def lambda_41DD():
        OP_8F(0xFE, 0x3C, 0x0, 0xFFFFFE5C, 0x1770, 0x0)
        ExitThread()

    QueueWorkItem(0x107, 1, lambda_41DD)

    def lambda_41F8():
        OP_9E(0xFE, 0x32, 0x0, 0x5DC, 0xFA0)
        ExitThread()

    QueueWorkItem(0xFE, 0, lambda_41F8)
    Sleep(500)
    OP_82(0x1, 0x2)

    ChrTalk(    #117 op#A op#5
        0x107,
        "#068F#10A#3P哇呜！？\x05\x02",
    )

    Return()

    # Function_28_41C8 end

    def Function_29_422F(): pass

    label("Function_29_422F")

    SetChrFlags(0x8, 0x20)
    OP_7C(0x64, 0x0, 0x1388, 0x3E8)

    def lambda_424B():
        OP_8F(0xFE, 0x1978, 0x0, 0x384, 0x1F40, 0x0)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_424B)
    OP_99(0xF, 0x4, 0x7, 0x5DC)
    OP_99(0xF, 0x4, 0x7, 0x5DC)
    OP_A2(0x0)

    def lambda_427B():
        OP_99(0xF, 0x8, 0xE, 0x7D0)
        ExitThread()

    QueueWorkItem(0xF, 1, lambda_427B)
    WaitChrThread(0xF, 0x1)
    Sleep(400)
    Return()

    # Function_29_422F end

    def Function_30_4290(): pass

    label("Function_30_4290")

    SetChrChipByIndex(0x8, 37)
    SetChrSubChip(0x8, 2)
    Sleep(200)
    OP_43(0x8, 0x3, 0x0, 0x1F)

    label("loc_42A6")

    Jc((scpexpr(EXPR_PUSH_LONG, 0x1), scpexpr(EXPR_END)), "loc_42CF")
    OP_9E(0x8, 0x96, 0x0, 0x1F4, 0xFA0)
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x0, 0)), scpexpr(EXPR_END)), "loc_42CC")
    Jump("loc_42CF")

    label("loc_42CC")

    Jump("loc_42A6")

    label("loc_42CF")

    Sleep(400)
    PlayEffect(0x7, 0xFF, 0x8, 500, 500, 1000, 0, 0, 0, 800, 800, 800, 0xFF, 0, 0, 0, 0)

    def lambda_430F():
        OP_9E(0xFE, 0x32, 0x0, 0x3E8, 0xFA0)
        ExitThread()

    QueueWorkItem(0x8, 2, lambda_430F)
    OP_7C(0x64, 0x0, 0x1388, 0x3E8)
    OP_22(0x22A, 0x0, 0x64)

    def lambda_433F():
        OP_96(0x8, 0x1BD0, 0x0, 0x28A, 0xC8, 0x1770)
        ExitThread()

    QueueWorkItem(0x8, 3, lambda_433F)
    WaitChrThread(0x8, 0x3)
    WaitChrThread(0x8, 0x2)
    Fade(100)
    SetChrChipByIndex(0x8, 31)
    SetChrSubChip(0x8, 0)
    Return()

    # Function_30_4290 end

    def Function_31_4371(): pass

    label("Function_31_4371")

    Jc((scpexpr(EXPR_PUSH_LONG, 0x1), scpexpr(EXPR_END)), "loc_43C1")
    PlayEffect(0x6, 0xFF, 0x8, 500, 500, 1000, 0, 0, 0, 500, 500, 500, 0xFF, 0, 0, 0, 0)
    Sleep(100)
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x0, 0)), scpexpr(EXPR_END)), "loc_43BE")
    Jump("loc_43C1")

    label("loc_43BE")

    Jump("Function_31_4371")

    label("loc_43C1")

    Return()

    # Function_31_4371 end

    def Function_32_43C2(): pass

    label("Function_32_43C2")

    FadeToDark(0, 0, -1)
    OP_A3(0x1200)
    OP_A3(0x1201)
    RemoveParty(0x2, 0xFF)
    RemoveParty(0x5, 0xFF)
    OP_4F(0x28, (scpexpr(EXPR_PUSH_LONG, 0x18), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))

    Menu(
        0,
        10,
        100,
        0,
        (
            "【◇选择雪拉扎德为队友】\x01",      # 0
            "【◇选择阿加特为队友】\x01",        # 1
        )
    )

    MenuEnd(0x0)
    OP_4F(0x28, (scpexpr(EXPR_PUSH_LONG, 0xFFFF), scpexpr(EXPR_STUB), scpexpr(EXPR_END)))
    OP_5F(0x0)
    OP_56(0x0)
    Switch(
        (scpexpr(EXPR_GET_RESULT, 0x0), scpexpr(EXPR_END)),
        (0, "loc_443C"),
        (1, "loc_4442"),
        (SWITCH_DEFAULT, "loc_4448"),
    )


    label("loc_443C")

    OP_A2(0x1200)
    Jump("loc_4448")

    label("loc_4442")

    OP_A2(0x1201)
    Jump("loc_4448")

    label("loc_4448")

    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 0)), scpexpr(EXPR_END)), "loc_4456")
    AddParty(0x2, 0xF7, 0xFF)
    Jump("loc_445A")

    label("loc_4456")

    AddParty(0x5, 0xF7, 0xFF)

    label("loc_445A")

    Return()

    # Function_32_43C2 end

    def Function_33_445B(): pass

    label("Function_33_445B")

    ClearMapFlags(0x1)
    OP_6D(0, 0, 0, 0)
    Jc((scpexpr(EXPR_TEST_SCENA_FLAGS, MakeScenarioFlags(0x240, 0)), scpexpr(EXPR_END)), "loc_4495")
    FadeToBright(0, 0)
    OP_C9(0x0, 0x4, 0x0, 0x2, 0x6, 0xFF, 0x3, 0x4, 0xFFFF)
    Jump("loc_44AF")

    label("loc_4495")

    FadeToBright(0, 0)
    OP_C9(0x0, 0x4, 0x0, 0x5, 0x6, 0xFF, 0x3, 0x4, 0xFFFF)

    label("loc_44AF")

    FadeToDark(0, 0, -1)
    OP_69(0x0, 0x0)
    Return()

    # Function_33_445B end

    def Function_34_44C1(): pass

    label("Function_34_44C1")

    TalkBegin(0xFF)
    Sleep(500)
    SetChrName("")
    SetMessageWindowPos(-1, -1, -1, -1)

    AnonymousTalk(    #118
        "\x07\x02有七耀脉的活性化装置。\x02",
    )

    CloseMessageWindow()

    Menu(
        0,
        10,
        10,
        0,
        (
            "【打开开关】\x01",      # 0
            "【放弃】\x01",          # 1
        )
    )

    MenuEnd(0x0)
    OP_5F(0x0)
    OP_56(0x0)
    Jc((scpexpr(EXPR_GET_RESULT, 0x0), scpexpr(EXPR_PUSH_LONG, 0x0), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_456F")
    Sleep(500)
    OP_22(0x9C, 0x0, 0x64)
    Sleep(1000)

    AnonymousTalk(    #119
        "\x07\x05…………………………\x02",
    )

    CloseMessageWindow()

    AnonymousTalk(    #120
        "什么也没有发生。\x02",
    )

    CloseMessageWindow()
    OP_56(0x0)
    SetMessageWindowPos(72, 320, 56, 3)
    Jump("loc_457C")

    label("loc_456F")

    Jc((scpexpr(EXPR_GET_RESULT, 0x0), scpexpr(EXPR_PUSH_LONG, 0x1), scpexpr(EXPR_EQU), scpexpr(EXPR_END)), "loc_457C")

    label("loc_457C")

    FadeToBright(300, 0)
    TalkEnd(0xFF)
    Return()

    # Function_34_44C1 end

    SaveToFile()

Try(main)
